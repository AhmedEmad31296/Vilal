<div class="row">
  <div class="col-12">
    <div class="content-header">{{ "AccountSettings" | localize }}</div>
    <p class="content-sub-header mb-1">
      {{ "ConfigureAccountSettings" | localize }}
    </p>
  </div>
</div>
<!-- Account Settings starts -->
<div class="row">
  <div class="col-md-3 mt-3">
    <!-- Nav tabs -->
    <ul class="nav flex-column nav-pills" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link" href="javascript:;" [ngClass]="{ active: activeTab === 'general' }" (click)="setActiveTab('general'); getUserInfo()" id="general-tab" data-toggle="tab" role="tab" aria-controls="general" aria-selected="true">
          <i class="ft-settings mr-1 align-middle"></i>
          <span class="align-middle">{{ "General" | localize }}</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="javascript:;" [ngClass]="{ active: activeTab === 'change-password' }" (click)="setActiveTab('change-password')" id="change-password-tab" data-toggle="tab" role="tab" aria-controls="change-password" aria-selected="false">
          <i class="ft-lock mr-1 align-middle"></i>
          <span class="align-middle">{{ "ChangePassword" | localize }}</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="javascript:;" [ngClass]="{ active: activeTab === 'social-links' }" (click)="setActiveTab('social-links'); getSocialLinks()" id="social-links-tab" data-toggle="tab" role="tab" aria-controls="social-links" aria-selected="false">
          <i class="ft-twitter mr-1 align-middle"></i>
          <span class="align-middle">{{ "SocialMedia.SocialLinks" | localize
            }}</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="col-md-9">
    <!-- Tab panes -->
    <div class="card">
      <div class="card-content">
        <div class="card-body">
          <div class="tab-content">
            <!-- General Tab -->
            <div class="tab-pane" [ngClass]="{ active: activeTab === 'general' }" id="general" role="tabpanel" aria-labelledby="general-tab">
              <!-- <div class="media"><img
                          src="assets/img/portrait/small/avatar-s-8.png"
                          alt="profile-img"
                          class="rounded mr-3"
                          height="64"
                          width="64"
                        /><div class="media-body"><div
                            class="col-12 d-flex flex-sm-row flex-column justify-content-start px-0 mb-sm-2"
                          ><label
                              class="btn btn-sm bg-light-primary mb-sm-0"
                              for="select-files"
                              >{{ "UploadPhoto" | localize }}</label
                            ><input type="file" id="select-files" hidden /></div><p class="text-muted mb-0 mt-1 mt-sm-0"><small>{{ "AllowedExtension" | localize }}</small></p></div></div><hr class="mt-1 mt-sm-2" /> -->
              <form [formGroup]="generalForm" (ngSubmit)="onGeneralFormSubmit()">
                <div class="row">
                  <div class="col-12 form-group">
                    <label for="username">{{ "UserName" | localize }}</label>
                    <div class="controls">
                      <input type="text" formControlName="username" class="form-control" [placeholder]="'UserName' | localize" value="{{ user.userName }}" [ngClass]="{
                              'is-invalid':
                              generalFormSubmitted && gf.username.invalid,
                              'is-valid':
                              generalFormSubmitted && !gf.username.invalid
                              }" required />
                      <div *ngIf="
                                 generalFormSubmitted &&
                                 (gf.username.invalid || gf.username.errors?.required)
                                 " class="help-block mt-1 text-danger">
                        <i class="ft-alert-circle align-middle"></i>{{ "Required" | localize }}
                      </div>
                    </div>
                  </div>
                  <div class="col-12 form-group">
                    <label for="name">{{ "Name" | localize }}</label>
                    <div class="controls">
                      <input type="text" formControlName="name" class="form-control" [placeholder]="'Name' | localize" [ngClass]="{
                              'is-invalid': generalFormSubmitted && gf.name.invalid,
                              'is-valid': generalFormSubmitted && !gf.name.invalid
                              }" required />
                      <div *ngIf="
                                 generalFormSubmitted &&
                                 (gf.name.invalid || gf.name.errors?.required)
                                 " class="help-block mt-1 text-danger">
                        <i class="ft-alert-circle align-middle"></i>
                        {{ "Required" | localize }}
                      </div>
                    </div>
                  </div>
                  <div class="col-12 form-group">
                    <label for="surname">{{ "Surname" | localize }}</label>
                    <div class="controls">
                      <input type="text" formControlName="surname" class="form-control" [placeholder]="'Surname' | localize" [ngClass]="{
                              'is-invalid':
                              generalFormSubmitted && gf.surname.invalid,
                              'is-valid':
                              generalFormSubmitted && !gf.surname.invalid
                              }" required />
                      <div *ngIf="
                                 generalFormSubmitted &&
                                 (gf.surname.invalid || gf.surname.errors?.required)
                                 " class="help-block mt-1 text-danger">
                        <i class="ft-alert-circle align-middle"></i>
                        {{ "Required" | localize }}
                      </div>
                    </div>
                  </div>
                  <div class="col-12 form-group">
                    <label for="email">{{ "EmailAddress" | localize }}</label>
                    <div class="controls">
                      <input type="text" formControlName="email" class="form-control" [placeholder]="'EmailAddress' | localize" [ngClass]="{
                              'is-invalid':
                              generalFormSubmitted && gf.email.invalid,
                              'is-valid': generalFormSubmitted && !gf.email.invalid
                              }" required />
                      <div *ngIf="
                                 generalFormSubmitted &&
                                 (gf.email.invalid || gf.email.errors?.required)
                                 " class="help-block mt-1 text-danger">
                        <i class="ft-alert-circle align-middle"></i>
                        {{ "Required" | localize }}
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-12"><ngb-alert type="light-warning" class="mb-2" *ngIf="alertVisible" (close)="alertVisible = false"><p class="mb-0">Your email is not confirmed. Please check your inbox.</p><a href="javascript:;" class="font-weight-bold text-warning">Resend confirmation</a></ngb-alert></div> -->
                  <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                    <button type="submit" class="btn btn-primary mr-sm-2 mb-1" [disabled]="saving">
                      {{ "Save" | localize }}
                    </button>
                    <button type="reset" class="btn btn-secondary mb-1">
                      {{ "Cancel" | localize }}
                    </button>
                  </div>
                </div>
              </form>
            </div>
            <!-- Change Password Tab -->
            <div class="tab-pane" [ngClass]="{ active: activeTab === 'change-password' }" id="change-password" role="tabpanel" aria-labelledby="change-password-tab">
              <form [formGroup]="changePasswordForm" (ngSubmit)="onChangePasswordFormSubmit()">
                <div class="form-group">
                  <label for="current-password">{{ "CurrentPassword" | localize
                        }}</label>
                  <div class="controls">
                    <input type="password" formControlName="currentPassword" class="form-control" [placeholder]="'CurrentPassword' | localize" [ngClass]="{
                           'is-invalid':
                           changePasswordFormSubmitted &&
                           cpf.currentPassword.invalid,
                           'is-valid':
                           changePasswordFormSubmitted &&
                           !cpf.currentPassword.invalid
                           }" required />
                    <div *ngIf="
                              changePasswordFormSubmitted &&
                              (cpf.currentPassword.invalid ||
                              cpf.currentPassword.errors?.required)
                              " class="help-block mt-1 text-danger">
                      <i class="ft-alert-circle align-middle"></i>
                      {{ "Required" | localize }}
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="new-password">{{ "NewPassword" | localize
                        }}</label>
                  <div class="controls">
                    <input type="password" formControlName="newPassword" class="form-control" [placeholder]="'NewPassword' | localize" [ngClass]="{
                           'is-invalid':
                           changePasswordFormSubmitted &&
                           cpf.newPassword.invalid,
                           'is-valid':
                           changePasswordFormSubmitted &&
                           !cpf.newPassword.invalid
                           }" required />
                    <div *ngIf="
                              changePasswordFormSubmitted &&
                              (cpf.newPassword.invalid ||
                              cpf.newPassword.errors?.required)
                              " class="help-block mt-1 text-danger">
                      <i class="ft-alert-circle align-middle"></i>
                      {{ "Required" | localize }}
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="confirm-new-password">
                    {{ "ConfirmNewPassword" | localize }}</label>
                  <div class="controls">
                    <input type="password" formControlName="confirmNewPassword" class="form-control" [placeholder]="'ConfirmNewPassword' | localize" [ngClass]="{
                           'is-invalid':
                           changePasswordFormSubmitted &&
                           cpf.confirmNewPassword.invalid,
                           'is-valid':
                           changePasswordFormSubmitted &&
                           !cpf.confirmNewPassword.invalid
                           }" required />
                    <div *ngIf="
                              changePasswordFormSubmitted &&
                              (cpf.confirmNewPassword.invalid ||
                              cpf.confirmNewPassword.errors?.required)
                              " class="help-block mt-1 text-danger">
                      <i class="ft-alert-circle align-middle"></i>
                      {{ "Required" | localize }}
                    </div>
                  </div>
                </div>
                <div class="d-flex flex-sm-row flex-column justify-content-end">
                  <button type="submit" class="btn btn-primary mr-sm-2 mb-1" [disabled]="saving">
                    {{ "Save" | localize }}
                  </button>
                  <button type="reset" class="btn btn-secondary mb-1">
                    {{ "Cancel" | localize }}
                  </button>
                </div>
              </form>
            </div>
            <!-- Social Links Tab -->
            <div class="tab-pane" [ngClass]="{ active: activeTab === 'social-links' }" id="social-links" role="tabpanel" aria-labelledby="social-links-tab">
              <form [formGroup]="socialForm" (ngSubmit)="onSocialFormSubmit()">
                <div class="row">
                  <div class="col-12 form-group">
                    <label for="twitter">{{ "SocialMedia.Twitter" | localize }}</label>
                    <input formControlName="twitter" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" value="https://www.twitter.com" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="facebook">{{ "SocialMedia.Facebook" | localize }} </label>
                    <input formControlName="facebook" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="google+">{{ "SocialMedia.Google" | localize }}</label>
                    <input formControlName="googlePlus" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="linkedin">{{ "SocialMedia.Linkedin" | localize }}</label>
                    <input formControlName="linkedin" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" value="https://www.linkedin.com" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="instagram">{{ "SocialMedia.Instagram" | localize }}</label>
                    <input formControlName="instagram" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="whatsApp">{{ "SocialMedia.WhatsApp" | localize }}</label>
                    <input formControlName="whatsApp" type="text" class="form-control" [placeholder]="'SocialMedia.AddNumber' | localize" />
                  </div>
                  <div class="col-12 form-group">
                    <label for="fax">{{ "SocialMedia.Fax" | localize }}</label>
                    <input formControlName="fax" type="text" class="form-control" [placeholder]="'SocialMedia.AddNumber' | localize" />
                  </div>
                   <div class="col-12 form-group">
                    <label for="googlePlay">{{ "SocialMedia.GooglePlay" | localize }}</label>
                    <input formControlName="googlePlay" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" />
                  </div>
                   <div class="col-12 form-group">
                    <label for="appStore">{{ "SocialMedia.AppStore" | localize }}</label>
                    <input formControlName="appStore" type="text" class="form-control" [placeholder]="'SocialMedia.AddLink' | localize" />
                  </div>
                  <div class="col-12 d-flex flex-sm-row flex-column justify-content-end">
                    <button type="submit" class="btn btn-primary mr-sm-2 mb-1" [disabled]="saving">
                      {{ "Save" | localize }}
                    </button>
                    <button type="button" class="btn btn-secondary mb-1">
                      {{ "Cancel" | localize }}
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Account Settings ends -->